---
layout: default
title: 我的信件
---

<main>
    <div class="container">
        <h1>📜 我的信件</h1>

        <!-- Debug 訊息 -->
        <h2>信件 Debug</h2>
        <p>信件總數 (site.letters)：{{ site.letters | size }}</p>

        <h3>檢查所有頁面 (site.pages)：</h3>
        <ul>
          {% for page in site.pages %}
            <li>{{ page.title }} - {{ page.date }} - {{ page.path }}</li>
          {% endfor %}
        </ul>

        <!-- 原本的信件列表 -->
        <ul>
            {% assign sorted_letters = site.letters | sort: "date" | reverse %}
            {% if sorted_letters.size > 0 %}
                {% for letter in sorted_letters %}
                    <li><a href="{{ letter.url }}">{{ letter.title }}</a> ({{ letter.date | date: "%Y-%m-%d" }})</li>
                {% endfor %}
            {% else %}
                <li>目前沒有信件。</li>
            {% endif %}
        </ul>
    </div>
</main>

<script>
    // 確保使用者已登入
    document.addEventListener("DOMContentLoaded", function () {
        if (localStorage.getItem("authenticated") !== "true") {
            alert("請先登入！");
            window.location.href = "login.html"; // 未登入則返回登入頁
        }
    });
</script>
